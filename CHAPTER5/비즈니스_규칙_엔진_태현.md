- íƒœí˜„
    
    ## ëª©í‘œ
    
    <aside>
    ğŸ’¡ â–ªí…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ ê¸°ë²•ìœ¼ë¡œ ìƒˆë¡œìš´ ì„¤ê³„ ë¬¸ì œë¥¼ í’€ì–´ë‚˜ê°€ëŠ” ë°©ë²•ì„ ë°°ìš´ë‹¤.
    â–ªìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ë° ìœ ìš©í•œ ëª¨í‚¹ ê¸°ë²•ì„ ë°°ìš´ë‹¤.
    â–ªì§€ì—­ ë³€ìˆ˜ í˜•ì‹ ì¶”ë¡ , switchë¬¸ì„ ë°°ìš´ë‹¤.
    â–ªë¹Œë” íŒ¨í„´ê³¼ ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ìœ¼ë¡œ ì‚¬ìš©ì ì¹œí™”ì ì¸ API ê°œë°œ ë°©ë²•ì„ ë°°ìš´ë‹¤.
    
    </aside>
    
    ## ìš”êµ¬ì‚¬í•­
    
    í”„ë¡œê·¸ë˜ë¨¸ê°€ ì•„ë‹Œ ì‚¬ëŒë„ ìì‹ ì˜ ì›Œí¬í”Œë¡œì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì¶”ê°€í•˜ê±°ë‚˜ ë°”ê¿€ ìˆ˜ ì´ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ë ¤í•œë‹¤.  â†’ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„ì„ í†µí•´ ë§Œë“ ë‹¤. 
    
    <aside>
    ğŸ’¡ **ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„**
    
    ê°„ë‹¨í•œ ë§ì¶¤ ì–¸ì–´ë¥¼ ì‚¬ìš©í•´ í•œ ê°œ ì´ìƒì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ì‹¤í–‰í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¡œ ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì‹œì— ì§€ì›í•œë‹¤.
    
    </aside>
    
    - **íŒ©íŠ¸ :** ê·œì¹™ì´ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì •ë³´
    - ************ì•¡ì…˜ :************ ìˆ˜í–‰í•˜ë ¤ëŠ” ë™ì‘
    - ************ì¡°ê±´ :************ ì•¡ì…˜ì„ ì–¸ì œ ë°œìƒì‹œí‚¬ì§€ ì§€ì •
    - ************ê·œì¹™ :************ ì‹¤í–‰í•˜ë ¤ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ì§€ì •. ë³´í†µ íŒ©íŠ¸, ì•¡ì…˜, ì¡°ê±´ì„ í•œ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ ê·œì¹™ìœ¼ë¡œ ë§Œë“ ë‹¤.
    
    ## í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ
    
    ì•„ì§ ìš”êµ¬ì‚¬í•­ì´ í™•ì •ë˜ì§€ ì•Šì€ ìœ ë™ì ì¸ ìƒíƒœì´ë¯€ë¡œ ì‚¬ìš©ìê°€ ìˆ˜í–‰í•  ê¸°ë³¸ ê¸°ëŠ¥ë¶€í„° ë‚˜ì—´í•´ë³´ì.
    
    - ì•¡ì…˜ ì¶”ê°€
    - ì•¡ì…˜ ì‹¤í–‰
    - ê¸°ë³¸ ë³´ê³ 
    
    ```java
    public class BusinessRuleEngine {
    	
    	public void addAction(final Action action) {
    		throw new UnsupportedOperationException();		
    	}
    
    	public void count() {
    		throw new UnsupportedOperationException();
    	}
    
    	public void run() {
    		throw new UnsupportedOperationException();
    	}
    }
    ```
    
    ë‹¤ìŒê³¼ ê°™ì´ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
    
    ```java
    @FunctionalInterface
    public interface Action {
    	void execute();
    }
    ```
    
    ### TDDë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
    
    - í…ŒìŠ¤íŠ¸ë¥¼ ë”°ë¡œ êµ¬í˜„í•˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ì— ëŒ€ì‘í•˜ëŠ” ìš”êµ¬ ì‚¬í•­ì„ í•œ ê°œì”© êµ¬í˜„í•  ëŒ€ë§ˆë‹¤ í•„ìš”í•œ ìš”êµ¬ ì‚¬í•­ì— ì§‘ì¤‘í•˜ê³  ê°œì„ í•  ìˆ˜ ìˆë‹¤.
    - ì½”ë“œë¥¼ ì˜¬ë°”ë¥´ê²Œ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë¨¼ì € í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•˜ë©´ì„œ ì½”ë“œì— ì–´ë–¤ ê³µê°œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ì§€ ì‹ ì¤‘í•˜ê²Œ ê²€í† í•˜ê²Œ ëœë‹¤.
    - TDD ì£¼ê¸°ì— ë”°ë¼ ìš”êµ¬ ì‚¬í•­ êµ¬í˜„ì„ ë°˜ë³µí•˜ë©´ì„œ ì¢…í•©ì ì¸ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ë¥¼ ì™„ì„±í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìš”êµ¬ ì‚¬í•­ì„ ë§Œì¡±ì‹œì¼°ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì¡°ê¸ˆ ë” í™•ì‹ í•  ìˆ˜ ìˆìœ¼ë©° ë²„ê·¸ ë°œìƒ ë²”ìœ„ë„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
    - í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ê¸° ìœ„í•œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ê¸° ë•Œë¬¸ì— í•„ìš”í•˜ì§€ ì•Šì€ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ì¼ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
    
    ### TDD ì£¼ê¸°
    
    TDDëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì£¼ê¸°ë¥¼ ê°€ì§„ë‹¤.
    
    1. ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ êµ¬í˜„
    2. ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    3. ê¸°ëŠ¥ì´ ë™ì‘í•˜ë„ë¡ ì½”ë“œ êµ¬í˜„
    4. ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    5. ë¦¬íŒ©í† ë§
    
    TDD ì›ì¹™ì„ ì ìš©í•˜ì—¬ `addActions()`ì™€ `count()` ë™ì‘ì„ ì˜¬ë°”ë¡œ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € êµ¬í˜„í•œë‹¤.
    
    ```java
    @Test
    void shouldHaveNoRulesInitially() {
    	final BusinessRuleEngine businessRuleEngine = new BusinessRuleEngine();
    
    	assertEquals(0, businessRuleEngine.count());
    }
    
    @Test
    void shoulAddTwoActions() {
    	final BusinessRuleEngine businessRuleEngine = new BusinessRuleEngine();
    
    	businessRuleEngine.addAction(() -> {});
    	businessRuleEngine.addAction(() -> {});
    
    	assertEquals(2, businessRuleEngine.count());
    }
    ```
    
    â†’ `UnsupportedOperationException()` ì˜ˆì™¸ë¥¼ ë˜ì§€ë„ë¡ êµ¬í˜„í–ˆê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ í•´ë‹¹ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.
    
    ì´ì œ êµ¬í˜„ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.
    
    ```java
    public class BusinessRuleEngine {
    	private final List<Action> actions;
    
    	public BusinessRuleEngine() {
    		this.actions = new ArrayList<>();
    	}
    
    	public void addAction(final Action action) {
    		this.actions.add(action);
    	}
    
    	public int count() {
    		return this.actions.size();
    	}
    	
    	public void run() {
    		throw new UnsupportedOperationException();
    	}
    }
    ```
    
    ì´ì œ í…ŒìŠ¤í‹‘ í†µê³¼í•˜ì§€ë§Œ `run()`ì€ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë™ì‘ì„ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” ëª¨í‚¹ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
    
    ## ëª¨í‚¹
    
    `Action`ì˜ `perform()`, `BusinessRuleEngine`ì˜ `run()` ë©”ì†Œë“œì™€ ê°™ì´ `void`ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ëª¨í‚¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    
    ëª¨í‚¹ì€ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
    
    1. ëª© ìƒì„±
    2. ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸
    
    ìë°”ì˜ ëª¨í‚¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ ëª¨í‚¤í† ë¥¼ ì´ìš©í•˜ì—¬ ëª¨í‚¹ í•  ìˆ˜ ìˆë‹¤.
    
    ```java
    import static org.mockito.Mockito.*;
    ```
    
    - `mock()` : ëª© ê°ì²´ë¥¼ ë§Œë“ ë‹¤.
    - `verify()` : íŠ¹ì • ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.
    
    ```java
    @Test
    void shouldExecuteOneAction() {
    
    	// given
    	final BusinessRuleEngine businessRuleEngine = new BusinessRuleEngine();
    	final Action mockAction = mock(Action.class);
    
    	// when
    	businessRuleEngine.addAction(mockAction);
    	businessRuleEngine.run();
    
    	// then
    	verify(mockAction).perform();
    }
    ```
    
    - `verify(mockAction).perform()` : when ë¶€ë¶„ì„ ì‹¤í–‰í–ˆì„ ë•Œ `Action`ì˜ `perform()` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ê²€ì¦
    
    â†’ ì•„ì§ êµ¬í˜„í•˜ì§€ ì•Šì•˜ê¸° ëŒ€ë¬¸ì— `UnsupportedOperationException`ì´ ë°œìƒí•œë‹¤.
    
    ë”°ë¼ì„œ `run()` ë©”ì†Œë“œë¥¼ êµ¬í˜„í•œë‹¤.
    
    ```java
    public void run() {
    	this.actions.forEach(Action::perform);
    }
    ```
    
    ì´ì œ í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•œë‹¤. 
    
    ## ì¡°ê±´ ì¶”ê°€í•˜ê¸°
    
    í˜„ì¬ê¹Œì§€ëŠ” ë‹¨ìˆœí•˜ê²Œ êµ¬í˜„í–ˆì§€ë§Œ ì‹¤ì œë¡œëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„ìœ¼ë¡œ íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ ì•¡ì…˜ì„ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. 
    
    ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ ì¡°ê±´ì´ ì¶”ê°€ëœë‹¤ë©´.
    
    > â€œê³ ê°ì˜ **ì§í•¨ì´ CEOë¼ë©´** ë©”ì¼ì„ ë³´ë‚¸ë‹¤â€
    > 
    
    ### ìƒíƒœ ëª¨ë¸ë§
    
    ë‹¤ìŒê³¼ ê°™ì´ ìµëª… í´ë˜ìŠ¤ë¡œ ì•¡ì…˜ì„ ì¶”ê°€í•˜ë©´ì„œ ì§€ì—­ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
    
    ```java
    final Customer customer = new Customer("Mark", "CEO");
    
    businessRuleEngine.addAction(new Action() {	
    	@Override
    	public void perform() {
    		if ("CEO".equals(customer.getJobTitle())) {
    			Mailer.sendEmail("sales@company.com", "Relevant customer: " + customer));
    		} 
    	}
    })
    ```
    
    ì´ ë°©ì‹ì˜ ë¬¸ì œì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
    
    - ì•¡ì…˜ì„ í…ŒìŠ¤íŠ¸ í•˜ê¸° í˜ë“¤ë‹¤. `Customer` ê°ì²´ê°€ í•˜ë“œì½”ë”©ëœ ë””íœë˜ì‹œë¥¼ ê°€ì§€ê¸° ë•Œë¬¸ì— ê¸°ëŠ¥ ì½”ë“œê°€ ë…ë¦½ì ì´ì§€ ì•Šë‹¤.
    - `Customer` ê°ì²´ëŠ” ì•¡ì…˜ê³¼ ê·¸ë£¹í™” ë˜ì–´ ìˆì§€ ì•Šë‹¤. `Customer` ê°ì²´ëŠ” ì—¬ëŸ¬ ê³³ì— ê³µìœ ëœ ì™¸ë¶€ ìƒíƒœì´ë¯€ë¡œ ì˜ë¬´ê°€ í˜¼ë€ìŠ¤ëŸ½ê²Œ ì—‰í‚¨ë‹¤.
    
    ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„ ë‚´ì˜ ì•¡ì…˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœë¡œ ìº¡ìŠí™” í•´ì•¼ í•œë‹¤. â†’ `Facts`ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤. (`Facts`ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„ ì¼ë¶€ì˜ í•„ìš”í•œ ìƒíƒœë¥¼ ê°€ë¦¬í‚¨ë‹¤.)
    
    ìœ„ì˜ ê°œì„ ì‚¬í•­ì„ ë°˜ì˜í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
    
    ```java
    @Test
    public void shouldPerformAnActionWithFacts() {
    	final Action mockAction = mock(Action.class);
    	final Facts mockFacts = mock(facts.class);
    	final BusinessRuleEngine businessRuleEngine = new BusinessRuleEngine(mockedFacts);
    
    	businessRuleEngine.addAction(mockAction);
    	businessRuleEngine.run();
    	
    	verify(mockAction).perform(mockFacts);
    }
    ```
    
    í…ŒìŠ¤íŠ¸ëŠ” ë‹¹ì—°íˆ ì‹¤íŒ¨í•œë‹¤. 
    
    `Facts` í´ë˜ìŠ¤ëŠ” í‚¤ì™€ ê°’ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. `Facts` í´ë˜ìŠ¤ëŠ” ìƒíƒœë¥¼ ëª¨ë¸ë§í•˜ë©° ê³µê°œ APIë¡œ ì‚¬ìš©ìì—ê²Œ ì œê³µí•  ê¸°ëŠ¥ì„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤. 
    
    **********Facts**********
    
    ```java
    public class Facts {
    	
    	private final Map<String, String> facts = new HashMap<>();
    
    	public String getFact(final String name) {
    		return this.facts.get(name);
    	}
    
    	public void addFact(final String name, final String value) {
    		this.facts.put(name, value);
    	}
    }
    ```
    
    ************Action************
    
    ```java
    @FunctionalInterface
    public interface Action {
    	void perform(Facts facts);
    }
    ```
    
    ************************************BusinessRuleEngine************************************
    
    ```java
    public class BusinessRuleEngine {
    	private final List<Action> actions;
    	private final Facts facts;
    
    	public BusinessRuleEngine(final Facts facts) {
    		this.facts = facts;
    		this.actions = new ArrayList<>();
    	}
    	
    	public void addAction(final Action action) {
    		this.actions.add(action);
    	}
    
    	public int count() {
    		return this.actions.size();
    	}
    
    	public void run() {
    		this.actions.forEach(action -> action.perform(facts));
    	}
    }
    ```
    
    ì•¡ì…˜ì„ ì¶”ê°€í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆë‹¤.
    
    ```java
    businessRuleEngine.addAction(facts -> {
    		final String jobTitle = facts.getFact("jobTitle");
    		if ("CEO".equals(jobTitle)) {
    			final String name = facts.getFact("name");
    			Mailer.sendEmail("sales@company.com", "Relevant customer: " + name);
    		}
    	}
    )
    ```
    
    ### ì§€ì—­ ë³€ìˆ˜ í˜•ì‹ ì¶”ë¡ 
    
    <aside>
    ğŸ’¡ í˜•ì‹ ì¶”ë¡  : ì»´íŒŒì¼ëŸ¬ê°€ ì •ì  í˜•ì‹ì„ ìë™ìœ¼ë¡œ ì¶”ë¡ í•´ ê²°ì •í•˜ëŠ” ê¸°ëŠ¥
    
    ex) `Map<String, String> map = new HashMap<>();` â†’ ì œë„¤ë¦­ í˜•ì‹ ì¶”ë¡ 
    
    </aside>
    
    ìë°” 10ë¶€í„° `var` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì§€ì—­ ë³€ìˆ˜ê¹Œì§€ í˜•ì‹ ì¶”ë¡ ì„ í•  ìˆ˜ ìˆë‹¤.
    
    ```java
    var env = new Facts();
    var businessRuleEngine = new BusinessRuleEngine(env);
    ```
    
    â†’ ê°€ë…ì„±ì„ ê³ ë ¤í•˜ì—¬ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ë„ë¡ í•˜ì.
    
    ### *switch* ë¬¸
    
    ì—¬ëŸ¬ ì¡°ê±´ì— ë”°ë¼ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ë‚´ìš©ì´ ë‹¬ë¼ì§„ë‹¤ë©´ `if`ë¬¸ ë³´ë‹¤ `switch`ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ê¹”ë”í•´ ë³´ì¼ ìˆ˜ ìˆë‹¤. 
    
    - `if`
        
        ```java
        var fa = 0.0;
        var dealStage = facts.getFact("stage");
        var amount = facts.getFact("amount");
        
        if (dealStage == Stage.LEAD) {
        	fa = amount * 0.2;
        } else if (dealStage = Stage.EAVLUATING) {
        	fa = amount * 0.6;
        }
        
        facts.addFact("fa", fa);
        ```
        
    - `switch`
        
        ```java
        var fa = 0.0;
        var dealStage = facts.getFact("stage");
        var amount = facts.getFact("amount");
        
        switch (dealStage) {
        	case LEAD:
        		fa = amount * 0.2;
        		break;
        	case EVALUATING:
        		fa = amount * 0.6;
        		break;
        }
        
        facts.addFact("fa", fa);
        ```
        
    - í´ìŠ¤ë£¨ë¥¼ ë°©ì§€í•˜ëŠ” `switch`
        
        ìë°” 12 ì´ìƒ
        
        ```java
        var fa = 0.0;
        var dealStage = facts.getFact("stage");
        var amount = facts.getFact("amount");
        
        var fa = switch (dealStage) {
        	case LEAD -> amount * 0.2;
        	case EVALUATING -> amount * 0.6;
        }
        
        facts.addFact("fa", fa);
        ```
        
        1. ê°’ì„ ë¦¬í„´ ë°›ì„ ìˆ˜ ìˆë‹¤.
        2. `break`ë¬¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.
        3. `case`ì— ë³µìˆ˜ì˜ ê°’ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
        4. ì†Œëª¨ ê²€ì‚¬ ê°€ëŠ¥ (`Enum` íƒ€ì…ì˜ ê²½ìš° ìë°” ì»´íŒŒì¼ëŸ¬ê°€ ëª¨ë“  `enum` ê°’ì„ `switch`ì—ì„œ ì†Œëª¨í–ˆëŠ”ì§€ í™•ì¸í•œë‹¤. 
    
    ### ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™
    
    > ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„ì—ì„œ ì•¡ì…˜ì„ ìˆ˜í–‰í•˜ì§€ ì•Šê³ ë„ ì•¡ì…˜ì— ëŒ€í•œ ì¡°ê±´ì„ ê¸°ë¡í•˜ê³ ì í•œë‹¤.
    > 
    
    í˜„ì¬ `Action` ì¸í„°í˜ì´ìŠ¤
    
    ```java
    @FunctionalInterface
    public interface Action {
    	void perform(Facts facts);
    }
    ```
    
    â†’ ìˆ˜í–‰ ì½”ë“œì™€ ì¡°ê±´ì´ ë¶„ë¦¬ë˜ì–´ ìˆì§€ ì•ŠìŒ
    
    ê°œì„ 
    
    ```java
    public interface ConditionalAction {
    	boolean evaluate(Facts facts);
    	void perform(Facts facts);
    }
    ```
    
    ******************Inspector******************
    
    ```java
    public class Inspector {
    	private final List<ConditoinalAction> conditionalActions;
    
    	public Inspector(final ConditionalAction ... conditionalActions) {
    		this.conditionalActions = Arrays.asList(conditionalActions);
    	}
    
    	public List<Report> inspect(final Facts facts) {
    		final List<Report> reports = new ArrayList<>();
    		for (ConditionalAction conditionalAction : conditionalActions) {
    			final boolean conditoinalResult = conditionalAction.evaludate(facts);
    			reports.add(new Report(facts, conditionalAction, conditionResult));
    		}
    		return reports;
    	}
    }
    ```
    
    `ConditoinalAction` ê°ì²´ ëª©ë¡ì„ ë°›ì•„ `Facts`ë¡œ ì´ë¥¼ í‰ê°€í•˜ëŠ” í´ë˜ìŠ¤
    
    `Inspector`ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.
    
    ```java
    public class InspectorTest {
    		
    	@Test
    	public void inspectOneConditionEvaluatesTrue() {
    		final Facts facts = new Facts("jobTitle", "CEO");
    		final ConditionalAction conditoinalAction = new JobTitleCondition();
    		final Inspector inspector = new Inspector(conditionalAction);
    		
    		final List<Report> reports = inspector.inspect(facts);
    
    		assertEquals(1, reports.size());
    		assertEquals(true, reports.get(0).isPositive());
    	}
    
    	private static class JobTitleCondition implements ConditionalAction {
    		@Override
    		public void perform(Facts facts) {
    			throw new UnsupportedOperationException();
    		}
    
    		@Override
    		public boolean evaludate(Facts facts) {
    			return "CEO".equals(facts.getFact("jobTitle"));
    		}
    	}
    }
    ```
    
    â†’ `ConditionalActions`ì´ ISPë¥¼ ìœ„ë°˜(í•„ìš”í•œ ê¸°ëŠ¥ ì´ìƒì„ ì œê³µ)í•˜ì—¬ í…ŒìŠ¤íŠ¸ì— í•„ìš” ì—†ëŠ” ë¡œì§ê¹Œì§€ í¬í•¨í•˜ê³  ìˆìŒ. 
    
    ì´ë ‡ê²Œ ì¸í„°í˜ì´ìŠ¤ê°€ ì»¤ì§€ë©´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì—ê²Œ ì˜ì¡´ì„±ì„ ê°–ê²Œëœë‹¤. â†’ ê²°í•©ë„ ì¦ê°€
    
    ## í”Œë£¨ì–¸íŠ¸ API ì„¤ê³„
    
    <aside>
    ğŸ’¡ í”Œë£¨ì–¸íŠ¸ API
    
    íŠ¹ì • ë¬¸ì œë¥¼ ë” ì§ê´€ì ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ íŠ¹ì • ë„ë©”ì¸ì— ë§ì¶°ì§„ APIë¥¼ ë§í•œë‹¤. ex) ìŠ¤íŠ¸ë¦¼
    
    </aside>
    
    í”Œë£¨ì–¸íŠ¸ APIì˜ **ë©”ì„œë“œ ì²´ì´ë‹**ì„ ì´ìš©í•˜ì—¬ ë³µì¡í•œ ì—°ì‚°ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
    
    ### ë„ë©”ì¸ ëª¨ë¸ë§
    
    ë¹„ì¦ˆë‹ˆìŠ¤ ì‚¬ìš©ìì˜ í¸ì˜ì„±ì„ ê°œì„ í•˜ê¸° ìœ„í•´ (ê°„ë‹¨í•œ ì¡°í•©ìœ¼ë¡œ ê·œì¹™ì„ ì§€ì •)
    
    - ************ì¡°ê±´ : íŒ©************íŠ¸ì— ì ìš©í•  ì¡°ê±´(True/False)
    - ************ì•¡ì…˜ :************ ì‹¤í–‰í•  ì—°ì‚°ì´ë‚˜ ì½”ë“œ ì§‘í•©
    - ************ê·œì¹™ :************ ì¡°ê±´ê³¼ ì•¡ì…˜ì„ í•©ì¹œ ê²ƒ. ì¡°ê±´ì´ ì°¸ â†’ ì•¡ì…˜ ì‹¤í–‰
    
    ```java
    @FunctionalInterface
    public interface Condition {
    	boolean evaluate(Facts facts);
    }
    ```
    
    ```java
    @FunctionalInterface
    public interface Action {
    	void execute(Facts facts);
    }
    ```
    
    ```java
    @FunctionalInterface
    public interface Rule {
    	void perform(Facts facts);
    }
    ```
    
    ê·œì¹™ì€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
    
    ```java
    public class DefaultRule implements Rule {
    	private final Condition condition;
    	private final Action action;
    	
    	public Rule(final Condtion condition, final Action action) {
    		this.condition = condition;
    		this.action = action;
    	}
    
    	public void perform(final Facts facts) {
    		if (condition.evaluate(facts)) {
    			action.execute(facts);
    		}
    	}
    }
    ```
    
    â†’ `Rule`ì€ ì™œ êµ³ì´ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ì—ˆì„ê¹Œ
    
    ### ë¹Œë” íŒ¨í„´
    
    ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ `Rule` ê°ì²´ì™€ í•„ìš”í•œ `Condtion`, `Action`ì„ ë§Œë“œëŠ” ë°©ë²•ì„ ê°œì„ í•  ìˆ˜ ìˆë‹¤. (`Rule`ì„ í•˜ë‚˜ì˜ ì—°ê²°ëœ ë©”ì„œë“œë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.)
    
    ```java
    public class RuleBuilder {
    	private Condition condition;
    	private Action action;
    
    	public RuleBuilder when(final Condition condition) {
    		this.condition = condition;
    		return this;
    	}
    
    	public RuleBuilder then(final Action action) {
    		this.action = action;
    		return this;
    	}
    	
    	public Rule createRule() {
    		return new DefaultRule(condition, action);
    	}
    }
    ```
    
    ```java
    Rule rule = new RuleBulider()
    								.when(facts -> "CEO".equals(facts.getFact("jobTitle"));
    								.then(facts -> System.out.println("action"));
    								.createRule();
    ```
    
    ìœ„ ì½”ë“œì˜ ê°œì„ ì 
    
    - ë¹ˆ `RuleBuilder` ì¸ìŠ¤í„´ìŠ¤í™”
    - `createRule()` ë©”ì„œë“œ í˜¸ì¶œ
    
    ê°œì„  ë²•
    
    - ìƒì„±ìë¥¼ `private`ìœ¼ë¡œ
    - `when()` ë©”ì„œë“œë¡œ ìƒì„±ì í˜¸ì¶œ â†’ ë°œê²¬ì„±ë„ ê°œì„ 
    - `then()` ë©”ì„œë“œê°€ `DefaultRule` ê°ì²´ë¥¼ ìµœì¢… ìƒì„± â†’ `createRule()` ì œê±°
    
    ```java
    public class RuleBuilder {
    	private final Condition condition;
    	
    	private RuleBuilder(final Condition condition) {
    		this.condition = condition;
    	}
    
    	public static RuleBuilder when(final Condition condition) {
    		return new RuleBuilder(condition);
    	}
    
    	public Rule then(final Action action) {
    		return new DefaultRule(condition, action);
    	}
    }
    ```
    
    ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.
    
    ```java
    Rule rule = RuleBuilder
    							.when(facts -> "CEO".equals(facts.getFact("jobTitle"))
    							.then(facts -> System.out.println("action"));						
    ```
